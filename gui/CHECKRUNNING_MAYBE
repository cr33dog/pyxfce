%%
override xfce_system_tray_check_running kwargs
static PyObject *
_wrap_xfce_system_tray_check_running(PyGObject *self, PyObject *args, PyObject *kwargs)
{
    static char *kwlist[] = { "screen", NULL };
    PyGObject *pscreen;
    GdkScreen* gscreen;
    Screen* xscreen;
    GError* error = NULL;

    if (!PyArg_ParseTupleAndKeywords(args, kwargs,
				     "O!:XfceSystemTray.check_running",
                                     kwlist, &PyGdkScreen_Type, &pscreen)
    ) {
        return NULL;
    }

    if (!pscreen || !pscreen->obj) {
        PyErr_SetString(PyExc_RuntimeError, "could not check if any (Xfce or other) system tray is running");
        return NULL;
    }

    gscreen = pscreen->obj;

    xscreen = GDK_SCREEN_XSCREEN(gscreen);
    if (!xscreen) {
       /* TODO unref gscreen ? */
       PyErr_SetString(PyExc_RuntimeError, "could not check if any (Xfce or other) system tray is running");
       return NULL;
    }
    
    if (xfce_system_tray_check_running(xscreen)) {
      return PyBool_FromLong(1);
    } else {
      return PyBool_FromLong(0);
    }
}
